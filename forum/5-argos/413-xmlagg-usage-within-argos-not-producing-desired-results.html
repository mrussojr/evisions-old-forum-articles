<html><head>
<link rel="stylesheet" href="../../css/core.css">
<link rel="stylesheet" href="../../css/core_responsive.css">
<link rel="stylesheet" href="../../css/custom.css">
<link rel="stylesheet" href="../../css/flags.css">
<link rel="stylesheet" href="../../css/forums.css">
<link rel="stylesheet" href="../../css/forums_responsive.css">
<link rel="stylesheet" href="../../css/framework.css">
<link rel="stylesheet" href="../../css/responsive.css"></head>
<body class="ipsApp ipsApp_front ipsJS_has ipsClearfix ipsApp_noTouch" data-controller="core.front.core.app" data-message="" data-pageapp="forums" data-pagelocation="front" data-pagemodule="forums" data-pagecontroller="topic" itemscope="" itemtype="http://schema.org/WebSite">
<main role="main" id="ipsLayout_body" class="ipsLayout_container">
<div id="ipsLayout_contentArea">
<div id="ipsLayout_contentWrapper">
<div id="ipsLayout_mainArea">
<div data-controller="core.front.core.commentFeed,forums.front.topic.view, core.front.core.ignoredComments" data-autopoll="" data-baseurl="" data-lastpage="" data-feedid="topic-787" class="cTopic ipsClear ipsSpacer_top">
<div id="elPostFeed" data-role="commentFeed" data-controller="core.front.core.moderation">
<form action="" method="post" data-ipspageaction="" data-role="moderationTools">
<article id="elComment_875" class="cPost ipsBox  ipsComment  ipsComment_parent ipsClearfix ipsClear ipsColumns ipsColumns_noSpacing ipsColumns_collapsePhone  ">
	

	<div class="cAuthorPane cAuthorPane_mobile ipsResponsive_showPhone ipsResponsive_block">
		<h3 class="ipsType_sectionHead cAuthorPane_author ipsResponsive_showPhone ipsResponsive_inlineBlock ipsType_break ipsType_blendLinks ipsTruncate ipsTruncate_line">
			
Phil
			<span class="ipsResponsive_showPhone ipsResponsive_inline">  

	
		<span title="Member's total reputation" data-ipstooltip class="ipsRepBadge ipsRepBadge_neutral">
	
			<i class="fa fa-circle"></i> 0
	
		</span>
	
</span>
		</h3>
		<div class="cAuthorPane_photo">
			

	<span class="ipsUserPhoto ipsUserPhoto_large ">
		<img src="//content.invisioncic.com/r269962/monthly_2017_10/P.png.ff3a99428d899157e3c8dad4eaedbfc7.png" alt="Phil">
	</span>

		</div>
	</div>
	<aside class="ipsComment_author cAuthorPane ipsColumn ipsColumn_medium ipsResponsive_hidePhone"><h3 class="ipsType_sectionHead cAuthorPane_author ipsType_blendLinks ipsType_break">
<strong>
Phil</strong> <span class="ipsResponsive_showPhone ipsResponsive_inline">  

	
		<span title="Member's total reputation" data-ipstooltip class="ipsRepBadge ipsRepBadge_neutral">
	
			<i class="fa fa-circle"></i> 0
	
		</span>
	
</span>
</h3>
		
		<ul class="cAuthorPane_info ipsList_reset">
			
				<li class="ipsType_break">New Member</li>
			
			
				<li><span class="ipsPip"></span></li>
			

			<li class="cAuthorPane_photo">
				

	<span class="ipsUserPhoto ipsUserPhoto_large ">
		<img src="//content.invisioncic.com/r269962/monthly_2017_10/P.png.ff3a99428d899157e3c8dad4eaedbfc7.png" alt="Phil">
	</span>

			</li>
			<li>Members</li>
			
			
				<li>

	
		<span title="Member's total reputation" data-ipstooltip class="ipsRepBadge ipsRepBadge_neutral">
	
			<i class="fa fa-circle"></i> 0
	
		</span>
	
</li>
				<li class="ipsType_light">5 posts</li>
				
				

			
		</ul></aside><div class="ipsColumn ipsColumn_fluid">
		

<div id="comment-875_wrap" data-controller="core.front.core.comment" data-commentapp="forums" data-commenttype="forums" data-commentid="875" data-quotedata='{"userid":15867,"username":"Phil","timestamp":1508160274,"contentapp":"forums","contenttype":"forums","contentid":413,"contentclass":"forums_Topic","contentcommentid":875}' class="ipsComment_content ipsType_medium  ipsFaded_withHover">
	

	<div class="ipsComment_meta ipsType_light">
		<div class="ipsPos_right ipsType_light ipsType_reset ipsFaded ipsFaded_more ipsType_blendLinks">
			<ul class="ipsList_inline ipsComment_tools">
				
					<li><a href="https://archive.evisions.com/topic/413-xmlagg-usage-within-argos-not-producing-desired-results/?do=reportComment&amp;comment=875" data-ipsdialog data-ipsdialog-remotesubmit data-ipsdialog-size="medium" data-ipsdialog-flashmessage="Thanks for your report." data-ipsdialog-title="Report post" data-action="reportComment" title="Report this content" class="ipsFaded ipsFaded_more"><span class="ipsResponsive_showPhone ipsResponsive_inline"><i class="fa fa-flag"></i></span><span class="ipsResponsive_hidePhone ipsResponsive_inline">Report post</span></a></li>
				
				
				
					<li><a class="ipsType_blendLinks" href="https://archive.evisions.com/topic/413-xmlagg-usage-within-argos-not-producing-desired-results/" data-ipstooltip title="Share this post" data-ipsmenu data-ipsmenu-closeonclick="false" id="elSharePost_875" data-role="shareComment"><i class="fa fa-share-alt"></i></a></li>
				
				
			</ul>
		</div>

		<div class="ipsType_reset">
			<a href="https://archive.evisions.com/topic/413-xmlagg-usage-within-argos-not-producing-desired-results/?do=findComment&amp;comment=875" class="ipsType_blendLinks">Posted <time datetime="2017-10-16T13:24:34Z" title="10/16/2017 01:24  PM" data-short="1 yr">October 16, 2017</time></a>
			<span class="ipsResponsive_hidePhone">
				
				
			</span>
		</div>
	</div>

	


	<div class="cPost_contentWrap ipsPad">
		
		<div data-role="commentContent" class="ipsType_normal ipsType_richText ipsContained" data-controller="core.front.core.lightboxedImages">
			
<p>
	Good morning.
</p>

<p>
	 
</p>

<p>
	I have a sql query that I am concatenating a description field.  I found that the result sometimes was too large to use LISTAGG and so I moved to using XMLAGG.
</p>

<p>
	 
</p>

<p>
	select rtrim(XMLAGG(xmlelement(e, SPRCMNT_TEXT, ', ').extract('//text()')).getclobval(),', ') from sprcmnt where sprcmnt_pidm = s.spriden_pidm and sprcmnt_cmtt_code = :spacmntCode AS Comments
</p>

<p>
	 
</p>

<p>
	Above is a sample line.  The problem is, the results are incorrect.  The comments are not the appropriate comments for the student.  If I run the code in SQL DEVELOPER the results are accurate and as expected.  However, if I run the exact same code through ARGOS, the results are random concatenations.  I cannot tell what it is doing exactly.  It really does appear to be random and not merely mismatched.  I have tried removing the .getclobval() method at the end but then ARGOS errors with ORA-19011: Character string buffer too small.
</p>

<p>
	 
</p>

<p>
	I am at a loss.  I cannot get XMLAGG to work and I currently cannot devise a workaround either.  I have gotten to the point that I have to run the report manually for the user community, but that is far from ideal.  Anyone have any suggestions or thoughts?  I'd like to run the query without the need for concatenation, but the request dictates otherwise.
</p>

<p>
	 
</p>

<p>
	Thank you in advance for any input.
</p>


			
		</div>

		<div class="ipsItemControls">
			
				
					

	<div data-controller="core.front.core.reaction" class="ipsItemControls_right ipsClearfix ">	
		<div class="ipsReact ipsPos_right">
			
				
				<div class="ipsReact_blurb ipsHide" data-role="reactionBlurb">
					
				</div>
			
			
			
		</div>
	</div>

				
			
			<ul class="ipsComment_controls ipsClearfix ipsItemControls_left" data-role="commentControls">
				
					
					
					
				
				<li class="ipsHide" data-role="commentLoading">
					<span class="ipsLoading ipsLoading_tiny ipsLoading_noAnim"></span>
				</li>
			</ul>
		</div>

		
	</div>

	<div class="ipsMenu ipsMenu_wide ipsHide cPostShareMenu" id="elSharePost_875_menu">
		<div class="ipsPad">
			<h4 class="ipsType_sectionHead">Share this post</h4>
			<hr class="ipsHr">
			<h5 class="ipsType_normal ipsType_reset">Link to post</h5>
			
			<input type="text" value="https://archive.evisions.com/topic/413-xmlagg-usage-within-argos-not-producing-desired-results/" class="ipsField_fullWidth">
			

			
		</div>
	</div>
</div>
	</div>
</article><article id="elComment_890" class="cPost ipsBox  ipsComment  ipsComment_parent ipsClearfix ipsClear ipsColumns ipsColumns_noSpacing ipsColumns_collapsePhone  ">
	

	<div class="cAuthorPane cAuthorPane_mobile ipsResponsive_showPhone ipsResponsive_block">
		<h3 class="ipsType_sectionHead cAuthorPane_author ipsResponsive_showPhone ipsResponsive_inlineBlock ipsType_break ipsType_blendLinks ipsTruncate ipsTruncate_line">
			
Johnson@oakland.edu
			<span class="ipsResponsive_showPhone ipsResponsive_inline">  

	
		<span title="Member's total reputation" data-ipstooltip class="ipsRepBadge ipsRepBadge_positive">
	
			<i class="fa fa-plus-circle"></i> 11
	
		</span>
	
</span>
		</h3>
		<div class="cAuthorPane_photo">
			

	<span class="ipsUserPhoto ipsUserPhoto_large ">
		<img src="//content.invisioncic.com/r269962/monthly_2017_10/J.png.26fbb477cb160ee672fded087528a951.png" alt="Johnson@oakland.edu">
	</span>

		</div>
	</div>
	<aside class="ipsComment_author cAuthorPane ipsColumn ipsColumn_medium ipsResponsive_hidePhone"><h3 class="ipsType_sectionHead cAuthorPane_author ipsType_blendLinks ipsType_break">
<strong>
Johnson@oakland.edu</strong> <span class="ipsResponsive_showPhone ipsResponsive_inline">  

	
		<span title="Member's total reputation" data-ipstooltip class="ipsRepBadge ipsRepBadge_positive">
	
			<i class="fa fa-plus-circle"></i> 11
	
		</span>
	
</span>
</h3>
		
		<ul class="cAuthorPane_info ipsList_reset">
			
				<li class="ipsType_break">Advanced Member</li>
			
			
				<li><span class="ipsPip"></span><span class="ipsPip"></span><span class="ipsPip"></span></li>
			

			<li class="cAuthorPane_photo">
				

	<span class="ipsUserPhoto ipsUserPhoto_large ">
		<img src="//content.invisioncic.com/r269962/monthly_2017_10/J.png.26fbb477cb160ee672fded087528a951.png" alt="Johnson@oakland.edu">
	</span>

			</li>
			<li>Members</li>
			
			
				<li>

	
		<span title="Member's total reputation" data-ipstooltip class="ipsRepBadge ipsRepBadge_positive">
	
			<i class="fa fa-plus-circle"></i> 11
	
		</span>
	
</li>
				<li class="ipsType_light">34 posts</li>
				
				

			
		</ul></aside><div class="ipsColumn ipsColumn_fluid">
		

<div id="comment-890_wrap" data-controller="core.front.core.comment" data-commentapp="forums" data-commenttype="forums" data-commentid="890" data-quotedata='{"userid":13325,"username":"Johnson@oakland.edu","timestamp":1508526891,"contentapp":"forums","contenttype":"forums","contentid":413,"contentclass":"forums_Topic","contentcommentid":890}' class="ipsComment_content ipsType_medium  ipsFaded_withHover">
	

	<div class="ipsComment_meta ipsType_light">
		<div class="ipsPos_right ipsType_light ipsType_reset ipsFaded ipsFaded_more ipsType_blendLinks">
			<ul class="ipsList_inline ipsComment_tools">
				
					<li><a href="https://archive.evisions.com/topic/413-xmlagg-usage-within-argos-not-producing-desired-results/?do=reportComment&amp;comment=890" data-ipsdialog data-ipsdialog-remotesubmit data-ipsdialog-size="medium" data-ipsdialog-flashmessage="Thanks for your report." data-ipsdialog-title="Report post" data-action="reportComment" title="Report this content" class="ipsFaded ipsFaded_more"><span class="ipsResponsive_showPhone ipsResponsive_inline"><i class="fa fa-flag"></i></span><span class="ipsResponsive_hidePhone ipsResponsive_inline">Report post</span></a></li>
				
				
				
					<li><a class="ipsType_blendLinks" href="https://archive.evisions.com/topic/413-xmlagg-usage-within-argos-not-producing-desired-results/?do=findComment&amp;comment=890" data-ipstooltip title="Share this post" data-ipsmenu data-ipsmenu-closeonclick="false" id="elSharePost_890" data-role="shareComment"><i class="fa fa-share-alt"></i></a></li>
				
				
			</ul>
		</div>

		<div class="ipsType_reset">
			<a href="https://archive.evisions.com/topic/413-xmlagg-usage-within-argos-not-producing-desired-results/?do=findComment&amp;comment=890" class="ipsType_blendLinks">Posted <time datetime="2017-10-20T19:14:51Z" title="10/20/2017 07:14  PM" data-short="1 yr">October 20, 2017</time></a>
			<span class="ipsResponsive_hidePhone">
				
				
			</span>
		</div>
	</div>

	


	<div class="cPost_contentWrap ipsPad">
		
		<div data-role="commentContent" class="ipsType_normal ipsType_richText ipsContained" data-controller="core.front.core.lightboxedImages">
			
<p>
	Hi Phil,
</p>

<p>
	      I am not clear on what you are trying to do. Are you concatenating something to the SPRCMNT_TEXT field? Or are you concatenating the TEXT field for all comments with the same CMTT code and pidm?
</p>


			
		</div>

		<div class="ipsItemControls">
			
				
					

	<div data-controller="core.front.core.reaction" class="ipsItemControls_right ipsClearfix ">	
		<div class="ipsReact ipsPos_right">
			
				
				<div class="ipsReact_blurb ipsHide" data-role="reactionBlurb">
					
				</div>
			
			
			
		</div>
	</div>

				
			
			<ul class="ipsComment_controls ipsClearfix ipsItemControls_left" data-role="commentControls">
				
					
					
					
				
				<li class="ipsHide" data-role="commentLoading">
					<span class="ipsLoading ipsLoading_tiny ipsLoading_noAnim"></span>
				</li>
			</ul>
		</div>

		
	</div>

	<div class="ipsMenu ipsMenu_wide ipsHide cPostShareMenu" id="elSharePost_890_menu">
		<div class="ipsPad">
			<h4 class="ipsType_sectionHead">Share this post</h4>
			<hr class="ipsHr">
			<h5 class="ipsType_normal ipsType_reset">Link to post</h5>
			
			<input type="text" value="https://archive.evisions.com/topic/413-xmlagg-usage-within-argos-not-producing-desired-results/?do=findComment&amp;comment=890" class="ipsField_fullWidth">
			

			
		</div>
	</div>
</div>
	</div>
</article><article id="elComment_896" class="cPost ipsBox  ipsComment  ipsComment_parent ipsClearfix ipsClear ipsColumns ipsColumns_noSpacing ipsColumns_collapsePhone  ">
	

	<div class="cAuthorPane cAuthorPane_mobile ipsResponsive_showPhone ipsResponsive_block">
		<h3 class="ipsType_sectionHead cAuthorPane_author ipsResponsive_showPhone ipsResponsive_inlineBlock ipsType_break ipsType_blendLinks ipsTruncate ipsTruncate_line">
			
Lynne Hoatson
			<span class="ipsResponsive_showPhone ipsResponsive_inline">  

	
		<span title="Member's total reputation" data-ipstooltip class="ipsRepBadge ipsRepBadge_positive">
	
			<i class="fa fa-plus-circle"></i> 4
	
		</span>
	
</span>
		</h3>
		<div class="cAuthorPane_photo">
			

	<span class="ipsUserPhoto ipsUserPhoto_large ">
		<img src="//content.invisioncic.com/r269962/monthly_2017_05/Logo-ABAC-StallionShield-100wx100h.thumb.gif.d9cf164a759f96478eff873a2a502235.gif" alt="Lynne Hoatson">
	</span>

		</div>
	</div>
	<aside class="ipsComment_author cAuthorPane ipsColumn ipsColumn_medium ipsResponsive_hidePhone"><h3 class="ipsType_sectionHead cAuthorPane_author ipsType_blendLinks ipsType_break">
<strong>
Lynne Hoatson</strong> <span class="ipsResponsive_showPhone ipsResponsive_inline">  

	
		<span title="Member's total reputation" data-ipstooltip class="ipsRepBadge ipsRepBadge_positive">
	
			<i class="fa fa-plus-circle"></i> 4
	
		</span>
	
</span>
</h3>
		
		<ul class="cAuthorPane_info ipsList_reset">
			
				<li class="ipsType_break">Member</li>
			
			
				<li><span class="ipsPip"></span><span class="ipsPip"></span></li>
			

			<li class="cAuthorPane_photo">
				

	<span class="ipsUserPhoto ipsUserPhoto_large ">
		<img src="//content.invisioncic.com/r269962/monthly_2017_05/Logo-ABAC-StallionShield-100wx100h.thumb.gif.d9cf164a759f96478eff873a2a502235.gif" alt="Lynne Hoatson">
	</span>

			</li>
			<li>Members</li>
			
			
				<li>

	
		<span title="Member's total reputation" data-ipstooltip class="ipsRepBadge ipsRepBadge_positive">
	
			<i class="fa fa-plus-circle"></i> 4
	
		</span>
	
</li>
				<li class="ipsType_light">22 posts</li>
				
				

			
		</ul></aside><div class="ipsColumn ipsColumn_fluid">
		

<div id="comment-896_wrap" data-controller="core.front.core.comment" data-commentapp="forums" data-commenttype="forums" data-commentid="896" data-quotedata='{"userid":9294,"username":"Lynne Hoatson","timestamp":1508879513,"contentapp":"forums","contenttype":"forums","contentid":413,"contentclass":"forums_Topic","contentcommentid":896}' class="ipsComment_content ipsType_medium  ipsFaded_withHover">
	

	<div class="ipsComment_meta ipsType_light">
		<div class="ipsPos_right ipsType_light ipsType_reset ipsFaded ipsFaded_more ipsType_blendLinks">
			<ul class="ipsList_inline ipsComment_tools">
				
					<li><a href="https://archive.evisions.com/topic/413-xmlagg-usage-within-argos-not-producing-desired-results/?do=reportComment&amp;comment=896" data-ipsdialog data-ipsdialog-remotesubmit data-ipsdialog-size="medium" data-ipsdialog-flashmessage="Thanks for your report." data-ipsdialog-title="Report post" data-action="reportComment" title="Report this content" class="ipsFaded ipsFaded_more"><span class="ipsResponsive_showPhone ipsResponsive_inline"><i class="fa fa-flag"></i></span><span class="ipsResponsive_hidePhone ipsResponsive_inline">Report post</span></a></li>
				
				
				
					<li><a class="ipsType_blendLinks" href="https://archive.evisions.com/topic/413-xmlagg-usage-within-argos-not-producing-desired-results/?do=findComment&amp;comment=896" data-ipstooltip title="Share this post" data-ipsmenu data-ipsmenu-closeonclick="false" id="elSharePost_896" data-role="shareComment"><i class="fa fa-share-alt"></i></a></li>
				
				
			</ul>
		</div>

		<div class="ipsType_reset">
			<a href="https://archive.evisions.com/topic/413-xmlagg-usage-within-argos-not-producing-desired-results/?do=findComment&amp;comment=896" class="ipsType_blendLinks">Posted <time datetime="2017-10-24T21:11:53Z" title="10/24/2017 09:11  PM" data-short="1 yr">October 24, 2017</time></a>
			<span class="ipsResponsive_hidePhone">
				
					(edited)
				
				
			</span>
		</div>
	</div>

	


	<div class="cPost_contentWrap ipsPad">
		
		<div data-role="commentContent" class="ipsType_normal ipsType_richText ipsContained" data-controller="core.front.core.lightboxedImages">
			
<p>
	I've used XMLAGG in a few reports with success. If I were were using XMLAGG to get that info, I'd use:
</p>

<p>
	      ( select rtrim(XMLAGG(xmlelement(e, cmnt.SPRCMNT_TEXT<strong> ||</strong> ', ')).extract('//text()'), ', ') AS THELIST<br>
	        from sprcmnt cmnt<br>
	        where cmnt.sprcmnt_pidm = s.spriden_pidm <br>
	          and cmnt.sprcmnt_cmtt_code = :spacmntCode ) AS "Comments",
</p>

<p>
	 
</p>

<p>
	That basically concatenates || the comma at the end of SPRCMNT_TEXT. It's a small change and I don't know if it would make a difference in your report or not. 
</p>

<p>
	 
</p>

<p>
	Unfortunately, I don't have access to whatever form that comment appears in within Banner so I can't verify that my test report matches what's on the Banner form for a student.
</p>

<p>
	 
</p>


			
				

<span class="ipsType_reset ipsType_medium ipsType_light" data-excludequote>
	<strong>Edited <time datetime="2017-10-24T21:12:45Z" title="10/24/2017 09:12  PM" data-short="1 yr">October 24, 2017</time> by Lynne Hoatson</strong>
	
	
</span>
			
		</div>

		<div class="ipsItemControls">
			
				
					

	<div data-controller="core.front.core.reaction" class="ipsItemControls_right ipsClearfix ">	
		<div class="ipsReact ipsPos_right">
			
				
				<div class="ipsReact_blurb ipsHide" data-role="reactionBlurb">
					
				</div>
			
			
			
		</div>
	</div>

				
			
			<ul class="ipsComment_controls ipsClearfix ipsItemControls_left" data-role="commentControls">
				
					
					
					
				
				<li class="ipsHide" data-role="commentLoading">
					<span class="ipsLoading ipsLoading_tiny ipsLoading_noAnim"></span>
				</li>
			</ul>
		</div>

		
	</div>

	<div class="ipsMenu ipsMenu_wide ipsHide cPostShareMenu" id="elSharePost_896_menu">
		<div class="ipsPad">
			<h4 class="ipsType_sectionHead">Share this post</h4>
			<hr class="ipsHr">
			<h5 class="ipsType_normal ipsType_reset">Link to post</h5>
			
			<input type="text" value="https://archive.evisions.com/topic/413-xmlagg-usage-within-argos-not-producing-desired-results/?do=findComment&amp;comment=896" class="ipsField_fullWidth">
			

			
		</div>
	</div>
</div>
	</div>
</article><article id="elComment_917" class="cPost ipsBox  ipsComment  ipsComment_parent ipsClearfix ipsClear ipsColumns ipsColumns_noSpacing ipsColumns_collapsePhone  ">
	

	<div class="cAuthorPane cAuthorPane_mobile ipsResponsive_showPhone ipsResponsive_block">
		<h3 class="ipsType_sectionHead cAuthorPane_author ipsResponsive_showPhone ipsResponsive_inlineBlock ipsType_break ipsType_blendLinks ipsTruncate ipsTruncate_line">
			
Phil
			<span class="ipsResponsive_showPhone ipsResponsive_inline">  

	
		<span title="Member's total reputation" data-ipstooltip class="ipsRepBadge ipsRepBadge_neutral">
	
			<i class="fa fa-circle"></i> 0
	
		</span>
	
</span>
		</h3>
		<div class="cAuthorPane_photo">
			

	<span class="ipsUserPhoto ipsUserPhoto_large ">
		<img src="//content.invisioncic.com/r269962/monthly_2017_10/P.png.ff3a99428d899157e3c8dad4eaedbfc7.png" alt="Phil">
	</span>

		</div>
	</div>
	<aside class="ipsComment_author cAuthorPane ipsColumn ipsColumn_medium ipsResponsive_hidePhone"><h3 class="ipsType_sectionHead cAuthorPane_author ipsType_blendLinks ipsType_break">
<strong>
Phil</strong> <span class="ipsResponsive_showPhone ipsResponsive_inline">  

	
		<span title="Member's total reputation" data-ipstooltip class="ipsRepBadge ipsRepBadge_neutral">
	
			<i class="fa fa-circle"></i> 0
	
		</span>
	
</span>
</h3>
		
		<ul class="cAuthorPane_info ipsList_reset">
			
				<li class="ipsType_break">New Member</li>
			
			
				<li><span class="ipsPip"></span></li>
			

			<li class="cAuthorPane_photo">
				

	<span class="ipsUserPhoto ipsUserPhoto_large ">
		<img src="//content.invisioncic.com/r269962/monthly_2017_10/P.png.ff3a99428d899157e3c8dad4eaedbfc7.png" alt="Phil">
	</span>

			</li>
			<li>Members</li>
			
			
				<li>

	
		<span title="Member's total reputation" data-ipstooltip class="ipsRepBadge ipsRepBadge_neutral">
	
			<i class="fa fa-circle"></i> 0
	
		</span>
	
</li>
				<li class="ipsType_light">5 posts</li>
				
				

			
		</ul></aside><div class="ipsColumn ipsColumn_fluid">
		

<div id="comment-917_wrap" data-controller="core.front.core.comment" data-commentapp="forums" data-commenttype="forums" data-commentid="917" data-quotedata='{"userid":15867,"username":"Phil","timestamp":1509719145,"contentapp":"forums","contenttype":"forums","contentid":413,"contentclass":"forums_Topic","contentcommentid":917}' class="ipsComment_content ipsType_medium  ipsFaded_withHover">
	

	<div class="ipsComment_meta ipsType_light">
		<div class="ipsPos_right ipsType_light ipsType_reset ipsFaded ipsFaded_more ipsType_blendLinks">
			<ul class="ipsList_inline ipsComment_tools">
				
					<li><a href="https://archive.evisions.com/topic/413-xmlagg-usage-within-argos-not-producing-desired-results/?do=reportComment&amp;comment=917" data-ipsdialog data-ipsdialog-remotesubmit data-ipsdialog-size="medium" data-ipsdialog-flashmessage="Thanks for your report." data-ipsdialog-title="Report post" data-action="reportComment" title="Report this content" class="ipsFaded ipsFaded_more"><span class="ipsResponsive_showPhone ipsResponsive_inline"><i class="fa fa-flag"></i></span><span class="ipsResponsive_hidePhone ipsResponsive_inline">Report post</span></a></li>
				
				
				
					<li><a class="ipsType_blendLinks" href="https://archive.evisions.com/topic/413-xmlagg-usage-within-argos-not-producing-desired-results/?do=findComment&amp;comment=917" data-ipstooltip title="Share this post" data-ipsmenu data-ipsmenu-closeonclick="false" id="elSharePost_917" data-role="shareComment"><i class="fa fa-share-alt"></i></a></li>
				
				
			</ul>
		</div>

		<div class="ipsType_reset">
			<a href="https://archive.evisions.com/topic/413-xmlagg-usage-within-argos-not-producing-desired-results/?do=findComment&amp;comment=917" class="ipsType_blendLinks">Posted <time datetime="2017-11-03T14:25:45Z" title="11/03/2017 02:25  PM" data-short="1 yr">November 3, 2017</time></a>
			<span class="ipsResponsive_hidePhone">
				
				
			</span>
		</div>
	</div>

	


	<div class="cPost_contentWrap ipsPad">
		
		<div data-role="commentContent" class="ipsType_normal ipsType_richText ipsContained" data-controller="core.front.core.lightboxedImages">
			
<blockquote class="ipsQuote" data-ipsquote="" data-ipsquote-contentapp="forums" data-ipsquote-contentclass="forums_Topic" data-ipsquote-contentcommentid="890" data-ipsquote-contentid="413" data-ipsquote-contenttype="forums" data-ipsquote-timestamp="1508526891" data-ipsquote-userid="13325" data-ipsquote-username="Johnson@oakland.edu">
	<div class="ipsQuote_citation">
		On 10/20/2017 at 3:14 PM, Johnson@oakland.edu said:
	</div>

	<div class="ipsQuote_contents">
		<p>
			Hi Phil,
		</p>

		<p>
			      I am not clear on what you are trying to do. Are you concatenating something to the SPRCMNT_TEXT field? Or are you concatenating the TEXT field for all comments with the same CMTT code and pidm?
		</p>
	</div>
</blockquote>

<p>
	Thank you for responding.  Yes, I am trying to concatenate the text field in the SPACMNT (Person Comment) screen.  This is a small portion of my main script.  The end user wants to add all of the students applicable comments to a single record per student returned.
</p>


			
		</div>

		<div class="ipsItemControls">
			
				
					

	<div data-controller="core.front.core.reaction" class="ipsItemControls_right ipsClearfix ">	
		<div class="ipsReact ipsPos_right">
			
				
				<div class="ipsReact_blurb ipsHide" data-role="reactionBlurb">
					
				</div>
			
			
			
		</div>
	</div>

				
			
			<ul class="ipsComment_controls ipsClearfix ipsItemControls_left" data-role="commentControls">
				
					
					
					
				
				<li class="ipsHide" data-role="commentLoading">
					<span class="ipsLoading ipsLoading_tiny ipsLoading_noAnim"></span>
				</li>
			</ul>
		</div>

		
	</div>

	<div class="ipsMenu ipsMenu_wide ipsHide cPostShareMenu" id="elSharePost_917_menu">
		<div class="ipsPad">
			<h4 class="ipsType_sectionHead">Share this post</h4>
			<hr class="ipsHr">
			<h5 class="ipsType_normal ipsType_reset">Link to post</h5>
			
			<input type="text" value="https://archive.evisions.com/topic/413-xmlagg-usage-within-argos-not-producing-desired-results/?do=findComment&amp;comment=917" class="ipsField_fullWidth">
			

			
		</div>
	</div>
</div>
	</div>
</article><article id="elComment_918" class="cPost ipsBox  ipsComment  ipsComment_parent ipsClearfix ipsClear ipsColumns ipsColumns_noSpacing ipsColumns_collapsePhone  ">
	

	<div class="cAuthorPane cAuthorPane_mobile ipsResponsive_showPhone ipsResponsive_block">
		<h3 class="ipsType_sectionHead cAuthorPane_author ipsResponsive_showPhone ipsResponsive_inlineBlock ipsType_break ipsType_blendLinks ipsTruncate ipsTruncate_line">
			
Phil
			<span class="ipsResponsive_showPhone ipsResponsive_inline">  

	
		<span title="Member's total reputation" data-ipstooltip class="ipsRepBadge ipsRepBadge_neutral">
	
			<i class="fa fa-circle"></i> 0
	
		</span>
	
</span>
		</h3>
		<div class="cAuthorPane_photo">
			

	<span class="ipsUserPhoto ipsUserPhoto_large ">
		<img src="//content.invisioncic.com/r269962/monthly_2017_10/P.png.ff3a99428d899157e3c8dad4eaedbfc7.png" alt="Phil">
	</span>

		</div>
	</div>
	<aside class="ipsComment_author cAuthorPane ipsColumn ipsColumn_medium ipsResponsive_hidePhone"><h3 class="ipsType_sectionHead cAuthorPane_author ipsType_blendLinks ipsType_break">
<strong>
Phil</strong> <span class="ipsResponsive_showPhone ipsResponsive_inline">  

	
		<span title="Member's total reputation" data-ipstooltip class="ipsRepBadge ipsRepBadge_neutral">
	
			<i class="fa fa-circle"></i> 0
	
		</span>
	
</span>
</h3>
		
		<ul class="cAuthorPane_info ipsList_reset">
			
				<li class="ipsType_break">New Member</li>
			
			
				<li><span class="ipsPip"></span></li>
			

			<li class="cAuthorPane_photo">
				

	<span class="ipsUserPhoto ipsUserPhoto_large ">
		<img src="//content.invisioncic.com/r269962/monthly_2017_10/P.png.ff3a99428d899157e3c8dad4eaedbfc7.png" alt="Phil">
	</span>

			</li>
			<li>Members</li>
			
			
				<li>

	
		<span title="Member's total reputation" data-ipstooltip class="ipsRepBadge ipsRepBadge_neutral">
	
			<i class="fa fa-circle"></i> 0
	
		</span>
	
</li>
				<li class="ipsType_light">5 posts</li>
				
				

			
		</ul></aside><div class="ipsColumn ipsColumn_fluid">
		

<div id="comment-918_wrap" data-controller="core.front.core.comment" data-commentapp="forums" data-commenttype="forums" data-commentid="918" data-quotedata='{"userid":15867,"username":"Phil","timestamp":1509720781,"contentapp":"forums","contenttype":"forums","contentid":413,"contentclass":"forums_Topic","contentcommentid":918}' class="ipsComment_content ipsType_medium  ipsFaded_withHover">
	

	<div class="ipsComment_meta ipsType_light">
		<div class="ipsPos_right ipsType_light ipsType_reset ipsFaded ipsFaded_more ipsType_blendLinks">
			<ul class="ipsList_inline ipsComment_tools">
				
					<li><a href="https://archive.evisions.com/topic/413-xmlagg-usage-within-argos-not-producing-desired-results/?do=reportComment&amp;comment=918" data-ipsdialog data-ipsdialog-remotesubmit data-ipsdialog-size="medium" data-ipsdialog-flashmessage="Thanks for your report." data-ipsdialog-title="Report post" data-action="reportComment" title="Report this content" class="ipsFaded ipsFaded_more"><span class="ipsResponsive_showPhone ipsResponsive_inline"><i class="fa fa-flag"></i></span><span class="ipsResponsive_hidePhone ipsResponsive_inline">Report post</span></a></li>
				
				
				
					<li><a class="ipsType_blendLinks" href="https://archive.evisions.com/topic/413-xmlagg-usage-within-argos-not-producing-desired-results/?do=findComment&amp;comment=918" data-ipstooltip title="Share this post" data-ipsmenu data-ipsmenu-closeonclick="false" id="elSharePost_918" data-role="shareComment"><i class="fa fa-share-alt"></i></a></li>
				
				
			</ul>
		</div>

		<div class="ipsType_reset">
			<a href="https://archive.evisions.com/topic/413-xmlagg-usage-within-argos-not-producing-desired-results/?do=findComment&amp;comment=918" class="ipsType_blendLinks">Posted <time datetime="2017-11-03T14:53:01Z" title="11/03/2017 02:53  PM" data-short="1 yr">November 3, 2017</time></a>
			<span class="ipsResponsive_hidePhone">
				
				
			</span>
		</div>
	</div>

	


	<div class="cPost_contentWrap ipsPad">
		
		<div data-role="commentContent" class="ipsType_normal ipsType_richText ipsContained" data-controller="core.front.core.lightboxedImages">
			
<blockquote class="ipsQuote" data-ipsquote="" data-ipsquote-contentapp="forums" data-ipsquote-contentclass="forums_Topic" data-ipsquote-contentcommentid="896" data-ipsquote-contentid="413" data-ipsquote-contenttype="forums" data-ipsquote-timestamp="1508879513" data-ipsquote-userid="9294" data-ipsquote-username="Lynne Hoatson">
	<div class="ipsQuote_citation">
		On 10/24/2017 at 5:11 PM, Lynne Hoatson said:
	</div>

	<div class="ipsQuote_contents">
		<p>
			I've used XMLAGG in a few reports with success. If I were were using XMLAGG to get that info, I'd use:
		</p>

		<p>
			      ( select rtrim(XMLAGG(xmlelement(e, cmnt.SPRCMNT_TEXT<strong> ||</strong> ', ')).extract('//text()'), ', ') AS THELIST<br>
			        from sprcmnt cmnt<br>
			        where cmnt.sprcmnt_pidm = s.spriden_pidm <br>
			          and cmnt.sprcmnt_cmtt_code = :spacmntCode ) AS "Comments",
		</p>

		<p>
			 
		</p>

		<p>
			That basically concatenates || the comma at the end of SPRCMNT_TEXT. It's a small change and I don't know if it would make a difference in your report or not. 
		</p>

		<p>
			 
		</p>

		<p>
			Unfortunately, I don't have access to whatever form that comment appears in within Banner so I can't verify that my test report matches what's on the Banner form for a student.
		</p>

		<p>
			 
		</p>
	</div>
</blockquote>

<p>
	Thanks for your reply Lynne.  I tried your code to no avail.  I appreciate the help.  I am not sure why the results through ARGOS are incorrect.  Also, dropping the .getClobValu() method will fail when the resulting concatenation is too large for the buffer.  I tried it with both and still received bad results.
</p>


			
		</div>

		<div class="ipsItemControls">
			
				
					

	<div data-controller="core.front.core.reaction" class="ipsItemControls_right ipsClearfix ">	
		<div class="ipsReact ipsPos_right">
			
				
				<div class="ipsReact_blurb ipsHide" data-role="reactionBlurb">
					
				</div>
			
			
			
		</div>
	</div>

				
			
			<ul class="ipsComment_controls ipsClearfix ipsItemControls_left" data-role="commentControls">
				
					
					
					
				
				<li class="ipsHide" data-role="commentLoading">
					<span class="ipsLoading ipsLoading_tiny ipsLoading_noAnim"></span>
				</li>
			</ul>
		</div>

		
	</div>

	<div class="ipsMenu ipsMenu_wide ipsHide cPostShareMenu" id="elSharePost_918_menu">
		<div class="ipsPad">
			<h4 class="ipsType_sectionHead">Share this post</h4>
			<hr class="ipsHr">
			<h5 class="ipsType_normal ipsType_reset">Link to post</h5>
			
			<input type="text" value="https://archive.evisions.com/topic/413-xmlagg-usage-within-argos-not-producing-desired-results/?do=findComment&amp;comment=918" class="ipsField_fullWidth">
			

			
		</div>
	</div>
</div>
	</div>
</article><article id="elComment_968" class="cPost ipsBox  ipsComment  ipsComment_parent ipsClearfix ipsClear ipsColumns ipsColumns_noSpacing ipsColumns_collapsePhone  ">
	

	<div class="cAuthorPane cAuthorPane_mobile ipsResponsive_showPhone ipsResponsive_block">
		<h3 class="ipsType_sectionHead cAuthorPane_author ipsResponsive_showPhone ipsResponsive_inlineBlock ipsType_break ipsType_blendLinks ipsTruncate ipsTruncate_line">
			
brodypoo
			<span class="ipsResponsive_showPhone ipsResponsive_inline">  

	
		<span title="Member's total reputation" data-ipstooltip class="ipsRepBadge ipsRepBadge_neutral">
	
			<i class="fa fa-circle"></i> 0
	
		</span>
	
</span>
		</h3>
		<div class="cAuthorPane_photo">
			

	<span class="ipsUserPhoto ipsUserPhoto_large ">
		<img src="//content.invisioncic.com/r269962/monthly_2017_10/B.png.63db95653917bc572dca8ad17ff34fa5.png" alt="brodypoo">
	</span>

		</div>
	</div>
	<aside class="ipsComment_author cAuthorPane ipsColumn ipsColumn_medium ipsResponsive_hidePhone"><h3 class="ipsType_sectionHead cAuthorPane_author ipsType_blendLinks ipsType_break">
<strong>
brodypoo</strong> <span class="ipsResponsive_showPhone ipsResponsive_inline">  

	
		<span title="Member's total reputation" data-ipstooltip class="ipsRepBadge ipsRepBadge_neutral">
	
			<i class="fa fa-circle"></i> 0
	
		</span>
	
</span>
</h3>
		
		<ul class="cAuthorPane_info ipsList_reset">
			
				<li class="ipsType_break">New Member</li>
			
			
				<li><span class="ipsPip"></span></li>
			

			<li class="cAuthorPane_photo">
				

	<span class="ipsUserPhoto ipsUserPhoto_large ">
		<img src="//content.invisioncic.com/r269962/monthly_2017_10/B.png.63db95653917bc572dca8ad17ff34fa5.png" alt="brodypoo">
	</span>

			</li>
			<li>Members</li>
			
			
				<li>

	
		<span title="Member's total reputation" data-ipstooltip class="ipsRepBadge ipsRepBadge_neutral">
	
			<i class="fa fa-circle"></i> 0
	
		</span>
	
</li>
				<li class="ipsType_light">1 post</li>
				
				

			
		</ul></aside><div class="ipsColumn ipsColumn_fluid">
		

<div id="comment-968_wrap" data-controller="core.front.core.comment" data-commentapp="forums" data-commenttype="forums" data-commentid="968" data-quotedata='{"userid":16165,"username":"brodypoo","timestamp":1511219380,"contentapp":"forums","contenttype":"forums","contentid":413,"contentclass":"forums_Topic","contentcommentid":968}' class="ipsComment_content ipsType_medium  ipsFaded_withHover">
	

	<div class="ipsComment_meta ipsType_light">
		<div class="ipsPos_right ipsType_light ipsType_reset ipsFaded ipsFaded_more ipsType_blendLinks">
			<ul class="ipsList_inline ipsComment_tools">
				
					<li><a href="https://archive.evisions.com/topic/413-xmlagg-usage-within-argos-not-producing-desired-results/?do=reportComment&amp;comment=968" data-ipsdialog data-ipsdialog-remotesubmit data-ipsdialog-size="medium" data-ipsdialog-flashmessage="Thanks for your report." data-ipsdialog-title="Report post" data-action="reportComment" title="Report this content" class="ipsFaded ipsFaded_more"><span class="ipsResponsive_showPhone ipsResponsive_inline"><i class="fa fa-flag"></i></span><span class="ipsResponsive_hidePhone ipsResponsive_inline">Report post</span></a></li>
				
				
				
					<li><a class="ipsType_blendLinks" href="https://archive.evisions.com/topic/413-xmlagg-usage-within-argos-not-producing-desired-results/?do=findComment&amp;comment=968" data-ipstooltip title="Share this post" data-ipsmenu data-ipsmenu-closeonclick="false" id="elSharePost_968" data-role="shareComment"><i class="fa fa-share-alt"></i></a></li>
				
				
			</ul>
		</div>

		<div class="ipsType_reset">
			<a href="https://archive.evisions.com/topic/413-xmlagg-usage-within-argos-not-producing-desired-results/?do=findComment&amp;comment=968" class="ipsType_blendLinks">Posted <time datetime="2017-11-20T23:09:40Z" title="11/20/2017 11:09  PM" data-short="1 yr">November 20, 2017</time></a>
			<span class="ipsResponsive_hidePhone">
				
				
			</span>
		</div>
	</div>

	


	<div class="cPost_contentWrap ipsPad">
		
		<div data-role="commentContent" class="ipsType_normal ipsType_richText ipsContained" data-controller="core.front.core.lightboxedImages">
			
<p>
	Hi Phil.  I don't have the table you are using in my database so I can't test this.  But when I used xmlagg in the past I had to convert it to a varchar before being able to properly viewing it in Argos.  Something like the following:
</p>

<p>
	 
</p>

<p>
	select dbms_lob.substr(rtrim(XMLAGG(xmlelement(e, SPRCMNT_TEXT, ', ').extract('//text()')).getclobval(),', '), 500, 1)<br>
	from sprcmnt where sprcmnt_pidm = s.spriden_pidm <br>
	and sprcmnt_cmtt_code = :spacmntCode AS Comments
</p>

<p>
	 
</p>

<p>
	Hope this helps.
</p>


			
		</div>

		<div class="ipsItemControls">
			
				
					

	<div data-controller="core.front.core.reaction" class="ipsItemControls_right ipsClearfix ">	
		<div class="ipsReact ipsPos_right">
			
				
				<div class="ipsReact_blurb ipsHide" data-role="reactionBlurb">
					
				</div>
			
			
			
		</div>
	</div>

				
			
			<ul class="ipsComment_controls ipsClearfix ipsItemControls_left" data-role="commentControls">
				
					
					
					
				
				<li class="ipsHide" data-role="commentLoading">
					<span class="ipsLoading ipsLoading_tiny ipsLoading_noAnim"></span>
				</li>
			</ul>
		</div>

		
	</div>

	<div class="ipsMenu ipsMenu_wide ipsHide cPostShareMenu" id="elSharePost_968_menu">
		<div class="ipsPad">
			<h4 class="ipsType_sectionHead">Share this post</h4>
			<hr class="ipsHr">
			<h5 class="ipsType_normal ipsType_reset">Link to post</h5>
			
			<input type="text" value="https://archive.evisions.com/topic/413-xmlagg-usage-within-argos-not-producing-desired-results/?do=findComment&amp;comment=968" class="ipsField_fullWidth">
			

			
		</div>
	</div>
</div>
	</div>
</article>
</form></div></div></div></div></div></main></body></html>
