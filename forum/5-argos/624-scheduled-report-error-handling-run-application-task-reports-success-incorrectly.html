<html><head>
<link rel="stylesheet" href="../../css/core.css">
<link rel="stylesheet" href="../../css/core_responsive.css">
<link rel="stylesheet" href="../../css/custom.css">
<link rel="stylesheet" href="../../css/flags.css">
<link rel="stylesheet" href="../../css/forums.css">
<link rel="stylesheet" href="../../css/forums_responsive.css">
<link rel="stylesheet" href="../../css/framework.css">
<link rel="stylesheet" href="../../css/responsive.css"></head>
<body class="ipsApp ipsApp_front ipsJS_has ipsClearfix ipsApp_noTouch" data-controller="core.front.core.app" data-message="" data-pageapp="forums" data-pagelocation="front" data-pagemodule="forums" data-pagecontroller="topic" itemscope="" itemtype="http://schema.org/WebSite">
<main role="main" id="ipsLayout_body" class="ipsLayout_container">
<div id="ipsLayout_contentArea">
<div id="ipsLayout_contentWrapper">
<div id="ipsLayout_mainArea">
<div data-controller="core.front.core.commentFeed,forums.front.topic.view, core.front.core.ignoredComments" data-autopoll="" data-baseurl="" data-lastpage="" data-feedid="topic-787" class="cTopic ipsClear ipsSpacer_top">
<div id="elPostFeed" data-role="commentFeed" data-controller="core.front.core.moderation">
<form action="" method="post" data-ipspageaction="" data-role="moderationTools">
<article id="elComment_1469" class="cPost ipsBox  ipsComment  ipsComment_parent ipsClearfix ipsClear ipsColumns ipsColumns_noSpacing ipsColumns_collapsePhone  ">
	

	<div class="cAuthorPane cAuthorPane_mobile ipsResponsive_showPhone ipsResponsive_block">
		<h3 class="ipsType_sectionHead cAuthorPane_author ipsResponsive_showPhone ipsResponsive_inlineBlock ipsType_break ipsType_blendLinks ipsTruncate ipsTruncate_line">
			
Jon Sullivan
			<span class="ipsResponsive_showPhone ipsResponsive_inline">  

	
		<span title="Member's total reputation" data-ipstooltip class="ipsRepBadge ipsRepBadge_neutral">
	
			<i class="fa fa-circle"></i> 0
	
		</span>
	
</span>
		</h3>
		<div class="cAuthorPane_photo">
			

	<span class="ipsUserPhoto ipsUserPhoto_large ">
		<img src="//content.invisioncic.com/r269962/monthly_2017_12/J.png.fad24df0d9e5e995de46f8a0e1fdf20c.png" alt="Jon Sullivan">
	</span>

		</div>
	</div>
	<aside class="ipsComment_author cAuthorPane ipsColumn ipsColumn_medium ipsResponsive_hidePhone"><h3 class="ipsType_sectionHead cAuthorPane_author ipsType_blendLinks ipsType_break">
<strong>
Jon Sullivan</strong> <span class="ipsResponsive_showPhone ipsResponsive_inline">  

	
		<span title="Member's total reputation" data-ipstooltip class="ipsRepBadge ipsRepBadge_neutral">
	
			<i class="fa fa-circle"></i> 0
	
		</span>
	
</span>
</h3>
		
		<ul class="cAuthorPane_info ipsList_reset">
			
				<li class="ipsType_break">New Member</li>
			
			
				<li><span class="ipsPip"></span></li>
			

			<li class="cAuthorPane_photo">
				

	<span class="ipsUserPhoto ipsUserPhoto_large ">
		<img src="//content.invisioncic.com/r269962/monthly_2017_12/J.png.fad24df0d9e5e995de46f8a0e1fdf20c.png" alt="Jon Sullivan">
	</span>

			</li>
			<li>Members</li>
			
			
				<li>

	
		<span title="Member's total reputation" data-ipstooltip class="ipsRepBadge ipsRepBadge_neutral">
	
			<i class="fa fa-circle"></i> 0
	
		</span>
	
</li>
				<li class="ipsType_light">1 post</li>
				
				

			
		</ul></aside><div class="ipsColumn ipsColumn_fluid">
		

<div id="comment-1469_wrap" data-controller="core.front.core.comment" data-commentapp="forums" data-commenttype="forums" data-commentid="1469" data-quotedata='{"userid":18878,"username":"Jon Sullivan","timestamp":1532630257,"contentapp":"forums","contenttype":"forums","contentid":624,"contentclass":"forums_Topic","contentcommentid":1469}' class="ipsComment_content ipsType_medium  ipsFaded_withHover">
	

	<div class="ipsComment_meta ipsType_light">
		<div class="ipsPos_right ipsType_light ipsType_reset ipsFaded ipsFaded_more ipsType_blendLinks">
			<ul class="ipsList_inline ipsComment_tools">
				
					<li><a href="https://archive.evisions.com/topic/624-scheduled-report-error-handling-run-application-task-reports-success-incorrectly/?do=reportComment&amp;comment=1469" data-ipsdialog data-ipsdialog-remotesubmit data-ipsdialog-size="medium" data-ipsdialog-flashmessage="Thanks for your report." data-ipsdialog-title="Report post" data-action="reportComment" title="Report this content" class="ipsFaded ipsFaded_more"><span class="ipsResponsive_showPhone ipsResponsive_inline"><i class="fa fa-flag"></i></span><span class="ipsResponsive_hidePhone ipsResponsive_inline">Report post</span></a></li>
				
				
				
					<li><a class="ipsType_blendLinks" href="https://archive.evisions.com/topic/624-scheduled-report-error-handling-run-application-task-reports-success-incorrectly/" data-ipstooltip title="Share this post" data-ipsmenu data-ipsmenu-closeonclick="false" id="elSharePost_1469" data-role="shareComment"><i class="fa fa-share-alt"></i></a></li>
				
				
			</ul>
		</div>

		<div class="ipsType_reset">
			<a href="https://archive.evisions.com/topic/624-scheduled-report-error-handling-run-application-task-reports-success-incorrectly/?do=findComment&amp;comment=1469" class="ipsType_blendLinks">Posted <time datetime="2018-07-26T18:37:37Z" title="07/26/2018 06:37  PM" data-short="Jul 26">July 26, 2018</time></a>
			<span class="ipsResponsive_hidePhone">
				
				
			</span>
		</div>
	</div>

	


	<div class="cPost_contentWrap ipsPad">
		
		<div data-role="commentContent" class="ipsType_normal ipsType_richText ipsContained" data-controller="core.front.core.lightboxedImages">
			
<p>
	Help! I have an Argos report that is scheduled to run, GPG encrypt itself and send the results to a SFTP server as part of it's Scheduled Tasks. 
</p>

<p>
	I am getting false-positives from the Testing of the schedule.  No matter what errors occur in the .bat file, the Run Application task always reports back SUCCESS.
</p>

<p>
	 
</p>

<p>
	<span style="font-size:18px;"><strong>How can I make my Argos Report "Run Application" task fail when the </strong><strong>application being called returns a non-zero result (aka FAIL)? </strong></span>
</p>

<p>
	 
</p>

<p>
	<strong>Steps to repro</strong>
</p>

<ol><li>
		Save the attached fail.bat to your local Argos server
	</li>
	<li>
		Create a "Run Application" task inside the Schedule report and set it up to call the .bat from Step 1
	</li>
	<li>
		Click "Test" on the Schedule
	</li>
</ol><p>
	 
</p>

<p>
	<strong>Expected</strong>
</p>

<ul><li>
		Test will fail due to .bat file exiting with non-zero code
	</li>
	<li>
		%lasterror% is set to 1
	</li>
	<li>
		OnFailure email is sent out.
	</li>
</ul><p>
	 
</p>

<p>
	<strong>Actual</strong>
</p>

<ul><li>
		"Test was successful" popup is displayed.
	</li>
	<li>
		%lasterror% is set to 1
	</li>
	<li>
		OnSuccess email is sent out.
	</li>
</ul><p>
	 
</p>

<p>
	<strong><span style="font-size:18px;">Does anyone have experience with error handling inside of Argos Scheduled Tasks in this regard?</span></strong>
</p>

<p>
	 
</p>

<p>
	Note: I tried a failing PowerShell script and it reported SUCCESS incorrectly there as well.
</p>

<p>
	Note: I tried adding a failing GPG command line directly in the Task and it reported SUCCESS incorrectly there as well.
</p>

<p><a class="ipsAttachLink" href="//support.evisions.com/applications/core/interface/file/attachment.php?id=357">fail.bat</a></p>

			
		</div>

		<div class="ipsItemControls">
			
				
					

	<div data-controller="core.front.core.reaction" class="ipsItemControls_right ipsClearfix ">	
		<div class="ipsReact ipsPos_right">
			
				
				<div class="ipsReact_blurb ipsHide" data-role="reactionBlurb">
					
				</div>
			
			
			
		</div>
	</div>

				
			
			<ul class="ipsComment_controls ipsClearfix ipsItemControls_left" data-role="commentControls">
				
					
					
					
				
				<li class="ipsHide" data-role="commentLoading">
					<span class="ipsLoading ipsLoading_tiny ipsLoading_noAnim"></span>
				</li>
			</ul>
		</div>

		
	</div>

	<div class="ipsMenu ipsMenu_wide ipsHide cPostShareMenu" id="elSharePost_1469_menu">
		<div class="ipsPad">
			<h4 class="ipsType_sectionHead">Share this post</h4>
			<hr class="ipsHr">
			<h5 class="ipsType_normal ipsType_reset">Link to post</h5>
			
			<input type="text" value="https://archive.evisions.com/topic/624-scheduled-report-error-handling-run-application-task-reports-success-incorrectly/" class="ipsField_fullWidth">
			

			
		</div>
	</div>
</div>
	</div>
</article><article id="elComment_1471" class="cPost ipsBox  ipsComment  ipsComment_parent ipsClearfix ipsClear ipsColumns ipsColumns_noSpacing ipsColumns_collapsePhone  ">
	

	<div class="cAuthorPane cAuthorPane_mobile ipsResponsive_showPhone ipsResponsive_block">
		<h3 class="ipsType_sectionHead cAuthorPane_author ipsResponsive_showPhone ipsResponsive_inlineBlock ipsType_break ipsType_blendLinks ipsTruncate ipsTruncate_line">
			
Michael Russo
			<span class="ipsResponsive_showPhone ipsResponsive_inline">  

	
		<span title="Member's total reputation" data-ipstooltip class="ipsRepBadge ipsRepBadge_positive">
	
			<i class="fa fa-plus-circle"></i> 1
	
		</span>
	
</span>
		</h3>
		<div class="cAuthorPane_photo">
			

	<span class="ipsUserPhoto ipsUserPhoto_large ">
		<img src="//content.invisioncic.com/r269962/monthly_2018_07/52772230_Morrisville_Identity_Mustang_SUNYMorrisville_RGB.thumb.png.49bfbd18c9079b76f10d5fd9d6d18278.png" alt="Michael Russo">
	</span>

		</div>
	</div>
	<aside class="ipsComment_author cAuthorPane ipsColumn ipsColumn_medium ipsResponsive_hidePhone"><h3 class="ipsType_sectionHead cAuthorPane_author ipsType_blendLinks ipsType_break">
<strong>
Michael Russo</strong> <span class="ipsResponsive_showPhone ipsResponsive_inline">  

	
		<span title="Member's total reputation" data-ipstooltip class="ipsRepBadge ipsRepBadge_positive">
	
			<i class="fa fa-plus-circle"></i> 1
	
		</span>
	
</span>
</h3>
		
		<ul class="cAuthorPane_info ipsList_reset">
			
				<li class="ipsType_break">Member</li>
			
			
				<li><span class="ipsPip"></span><span class="ipsPip"></span></li>
			

			<li class="cAuthorPane_photo">
				

	<span class="ipsUserPhoto ipsUserPhoto_large ">
		<img src="//content.invisioncic.com/r269962/monthly_2018_07/52772230_Morrisville_Identity_Mustang_SUNYMorrisville_RGB.thumb.png.49bfbd18c9079b76f10d5fd9d6d18278.png" alt="Michael Russo">
	</span>

			</li>
			<li>Members</li>
			
			
				<li>

	
		<span title="Member's total reputation" data-ipstooltip class="ipsRepBadge ipsRepBadge_positive">
	
			<i class="fa fa-plus-circle"></i> 1
	
		</span>
	
</li>
				<li class="ipsType_light">12 posts</li>
				
				

			
		</ul></aside><div class="ipsColumn ipsColumn_fluid">
		

<div id="comment-1471_wrap" data-controller="core.front.core.comment" data-commentapp="forums" data-commenttype="forums" data-commentid="1471" data-quotedata='{"userid":15870,"username":"Michael Russo","timestamp":1532960534,"contentapp":"forums","contenttype":"forums","contentid":624,"contentclass":"forums_Topic","contentcommentid":1471}' class="ipsComment_content ipsType_medium  ipsFaded_withHover">
	

	<div class="ipsComment_meta ipsType_light">
		<div class="ipsPos_right ipsType_light ipsType_reset ipsFaded ipsFaded_more ipsType_blendLinks">
			<ul class="ipsList_inline ipsComment_tools">
				
					<li><a href="https://archive.evisions.com/topic/624-scheduled-report-error-handling-run-application-task-reports-success-incorrectly/?do=reportComment&amp;comment=1471" data-ipsdialog data-ipsdialog-remotesubmit data-ipsdialog-size="medium" data-ipsdialog-flashmessage="Thanks for your report." data-ipsdialog-title="Report post" data-action="reportComment" title="Report this content" class="ipsFaded ipsFaded_more"><span class="ipsResponsive_showPhone ipsResponsive_inline"><i class="fa fa-flag"></i></span><span class="ipsResponsive_hidePhone ipsResponsive_inline">Report post</span></a></li>
				
				
				
					<li><a class="ipsType_blendLinks" href="https://archive.evisions.com/topic/624-scheduled-report-error-handling-run-application-task-reports-success-incorrectly/?do=findComment&amp;comment=1471" data-ipstooltip title="Share this post" data-ipsmenu data-ipsmenu-closeonclick="false" id="elSharePost_1471" data-role="shareComment"><i class="fa fa-share-alt"></i></a></li>
				
				
			</ul>
		</div>

		<div class="ipsType_reset">
			<a href="https://archive.evisions.com/topic/624-scheduled-report-error-handling-run-application-task-reports-success-incorrectly/?do=findComment&amp;comment=1471" class="ipsType_blendLinks">Posted <time datetime="2018-07-30T14:22:14Z" title="07/30/2018 02:22  PM" data-short="Jul 30">July 30, 2018</time></a>
			<span class="ipsResponsive_hidePhone">
				
				
			</span>
		</div>
	</div>

	


	<div class="cPost_contentWrap ipsPad">
		
		<div data-role="commentContent" class="ipsType_normal ipsType_richText ipsContained" data-controller="core.front.core.lightboxedImages">
			<p>
	I've had similar issues with some batch files that I use to transfer files.  I'm not sure there is a way to send input back to Argos in this case.  However, I have noticed that Argos waits for the process to complete before ending the schedule process, so there must be some way it checks the completion status.  I'm guessing this would require some changes to the application itself.
</p>

			
		</div>

		<div class="ipsItemControls">
			
				
					

	<div data-controller="core.front.core.reaction" class="ipsItemControls_right ipsClearfix ">	
		<div class="ipsReact ipsPos_right">
			
				
				<div class="ipsReact_blurb ipsHide" data-role="reactionBlurb">
					
				</div>
			
			
			
		</div>
	</div>

				
			
			<ul class="ipsComment_controls ipsClearfix ipsItemControls_left" data-role="commentControls">
				
					
					
					
				
				<li class="ipsHide" data-role="commentLoading">
					<span class="ipsLoading ipsLoading_tiny ipsLoading_noAnim"></span>
				</li>
			</ul>
		</div>

		
			

		
	</div>

	<div class="ipsMenu ipsMenu_wide ipsHide cPostShareMenu" id="elSharePost_1471_menu">
		<div class="ipsPad">
			<h4 class="ipsType_sectionHead">Share this post</h4>
			<hr class="ipsHr">
			<h5 class="ipsType_normal ipsType_reset">Link to post</h5>
			
			<input type="text" value="https://archive.evisions.com/topic/624-scheduled-report-error-handling-run-application-task-reports-success-incorrectly/?do=findComment&amp;comment=1471" class="ipsField_fullWidth">
			

			
		</div>
	</div>
</div>
	</div>
</article>
</form></div></div></div></div></div></main></body></html>
